{"ast":null,"code":"import { createSelector } from \"reselect\";\nimport _ from \"underscore\";\nimport { getSelectedLanguages } from \"./language\";\n\nconst selectData = state => state.chart.data;\n/**\n * Group total websites views by language.\n *\n * @param data Array<{\n *  tags: Array<{name: string}>;\n *  url: string;\n *  website_views: Array<{ date: string, count: string}>\n * }>\n * @param languages Array<{name: string, displayed: bool}>\n *\n * Return: { language: string, views: number }\n */\n\n\nexport const groupByLanguage = createSelector([selectData, getSelectedLanguages], (data, languages) => {\n  // TODO: Implement\n  return;\n});\n/**\n * Flattened list of daily views.\n *\n * @param data Array<{\n *  tags: <{name: string}>;\n *  url: string;\n *  website_views: Array<{ date: string, count: number}>\n * }>\n * @param languages Array<{name: string, displayed: bool}>\n *\n *\n * Return: Array<{\n *    count: number;\n *    date: string;\n *    website: string;\n * }>\n */\n\nexport const flattenWebsiteViews = createSelector([selectData, getSelectedLanguages], (data, languages) => {\n  return _.flatten(data.filter(website => website.tags.filter(tag => languages.map(lang => lang.name).includes(tag.name)).length > 0).map(website => website.website_views.map(views => {\n    return {\n      count: views.count,\n      date: views.date,\n      website: website.url\n    };\n  })));\n});","map":{"version":3,"sources":["/Users/jg443z/1234/src/selectors/chart.js"],"names":["createSelector","_","getSelectedLanguages","selectData","state","chart","data","groupByLanguage","languages","flattenWebsiteViews","flatten","filter","website","tags","tag","map","lang","name","includes","length","website_views","views","count","date","url"],"mappings":"AAAA,SAASA,cAAT,QAA+B,UAA/B;AACA,OAAOC,CAAP,MAAc,YAAd;AACA,SAASC,oBAAT,QAAqC,YAArC;;AAEA,MAAMC,UAAU,GAAGC,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYC,IAAxC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,OAAO,MAAMC,eAAe,GAAGP,cAAc,CAC3C,CAACG,UAAD,EAAaD,oBAAb,CAD2C,EAE3C,CAACI,IAAD,EAAOE,SAAP,KAAqB;AACnB;AACA;AACD,CAL0C,CAAtC;AAQP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,mBAAmB,GAAGT,cAAc,CAC/C,CAACG,UAAD,EAAaD,oBAAb,CAD+C,EAE/C,CAACI,IAAD,EAAOE,SAAP,KAAqB;AACnB,SAAOP,CAAC,CAACS,OAAF,CACLJ,IAAI,CACDK,MADH,CAEIC,OAAO,IACLA,OAAO,CAACC,IAAR,CAAaF,MAAb,CAAoBG,GAAG,IACrBN,SAAS,CAACO,GAAV,CAAcC,IAAI,IAAIA,IAAI,CAACC,IAA3B,EAAiCC,QAAjC,CAA0CJ,GAAG,CAACG,IAA9C,CADF,EAEEE,MAFF,GAEW,CALjB,EAOGJ,GAPH,CAOOH,OAAO,IACVA,OAAO,CAACQ,aAAR,CAAsBL,GAAtB,CAA0BM,KAAK,IAAI;AACjC,WAAO;AACLC,MAAAA,KAAK,EAAED,KAAK,CAACC,KADR;AAELC,MAAAA,IAAI,EAAEF,KAAK,CAACE,IAFP;AAGLX,MAAAA,OAAO,EAAEA,OAAO,CAACY;AAHZ,KAAP;AAKD,GAND,CARJ,CADK,CAAP;AAkBD,CArB8C,CAA1C","sourcesContent":["import { createSelector } from \"reselect\";\nimport _ from \"underscore\";\nimport { getSelectedLanguages } from \"./language\";\n\nconst selectData = state => state.chart.data;\n\n/**\n * Group total websites views by language.\n *\n * @param data Array<{\n *  tags: Array<{name: string}>;\n *  url: string;\n *  website_views: Array<{ date: string, count: string}>\n * }>\n * @param languages Array<{name: string, displayed: bool}>\n *\n * Return: { language: string, views: number }\n */\nexport const groupByLanguage = createSelector(\n  [selectData, getSelectedLanguages],\n  (data, languages) => {\n    // TODO: Implement\n    return;\n  }\n);\n\n/**\n * Flattened list of daily views.\n *\n * @param data Array<{\n *  tags: <{name: string}>;\n *  url: string;\n *  website_views: Array<{ date: string, count: number}>\n * }>\n * @param languages Array<{name: string, displayed: bool}>\n *\n *\n * Return: Array<{\n *    count: number;\n *    date: string;\n *    website: string;\n * }>\n */\nexport const flattenWebsiteViews = createSelector(\n  [selectData, getSelectedLanguages],\n  (data, languages) => {\n    return _.flatten(\n      data\n        .filter(\n          website =>\n            website.tags.filter(tag =>\n              languages.map(lang => lang.name).includes(tag.name)\n            ).length > 0\n        )\n        .map(website =>\n          website.website_views.map(views => {\n            return {\n              count: views.count,\n              date: views.date,\n              website: website.url\n            };\n          })\n        )\n    );\n  }\n);\n"]},"metadata":{},"sourceType":"module"}